<%@ tag body-content="scriptless" %><%@ attribute name="text" required="true"  type="java.lang.String"%><%@ attribute name="ext" required="false"  type="java.lang.String"%><%@ attribute name="nl2br" required="false"  type="java.lang.Boolean"%><%@ taglib uri="http://www.springframework.org/tags" prefix="spring" %><%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %><%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %><%if(ext==null || ext.isEmpty()) ext = "html";if(text==null)text="";String escaped = text;if("html".equals(ext)){escaped = org.apache.commons.lang.StringEscapeUtils.escapeHtml(text);}else if("xml".equals(ext)){escaped = org.apache.commons.lang.StringEscapeUtils.escapeXml(text);}else if("js".equals(ext)){escaped = org.apache.commons.lang.StringEscapeUtils.escapeJavaScript(text);}else if("url".equals(ext)){escaped = java.net.URLEncoder.encode(text,"UTF-8");}if(nl2br!=null&&nl2br){escaped=escaped.replace("\n","<br/>");}out.print(escaped);%>